###################################
# 
# Main configuration file 
#
###################################



#----------------------------
# GENERAL
#----------------------------

# Domain name
DOMAIN_NAME = mydomain.com

# Destination address for automated emails
EMAIL = khraibi@gmail.com

# Automated email subject prefix
EMAIL_SUBJECT_PREFIX = [Venus]        

# Email message format (plain|preformat|html)
EMAIL_FORMAT = html

# Log file directory
LOG_DIR = /var/log/nastia-server 

# Temporary file directory
TMP_DIR = /var/tmp

# Directory mapped to the tmpfs file system, content is erased after reboot
TMPFS_DIR = /tmp

# Temporary log file for info messages used by monitor
INFO_LOG = /var/tmp/info.log           

# Temporary log file for warning messages used by monitor
WARNING_LOG = /var/tmp/warnings.log

# Temporary log file for error messages used by monitor
ERROR_LOG = /var/tmp/errors.log       

# User and group for running the server scripts
#USER  = root
#GROUP = root

# File and directory permission modes
#FMODE = 644
#DMODE = 755

# Disable Wireless LAN interface upon reboot (0|1, name per ifconfig)
#WLAN_DISABLE   = 0
#WLAN_INTERFACE = wlan0




#----------------------------
# BLUETOOTH
#----------------------------
#              device     address              mode
BLUETOOTH[0] = rfcomm0    98:D3:31:F6:6C:7E

BLUETOOTH_BIND_ONLY = 0
BLUETOOTH_WATCHDOG  = 1



#----------------------------
# GPIO 
#----------------------------
#         pin  direction
GPIO[0] = 26   out
#GPIO[1] = 14   in 



#----------------------------
# SERVER MONITOR
#----------------------------

# List of tests to be executed in the given order
MONITOR_TEST[0] = system-status
MONITOR_TEST[1] = cron-check
MONITOR_TEST[2] = disk-space
MONITOR_TEST[3] = script-errors
MONITOR_TEST[4] = script-warnings
MONITOR_TEST[5] = script-info
MONITOR_TEST[6] = service-status
#MONITOR_TEST[7] = dns
#MONITOR_TEST[8] = speed-test
#MONITOR_TEST[9] = ping-test

# List of disk mount points to be checked with 'disk-space'
MONITOR_DISK[0] = /
MONITOR_DISK[1] = /var/volatile
MONITOR_DISK_THRESHOLD = 5  # Threshold for low disk space warning by 'disk-space' in free percent

# Internet connection speed test 'speed-test' parameters
MONITOR_SPEED_RUNS           = 3   # Number of internet speed test runs to be executed
MONITOR_SPEED_PING_THRESHOLD = 40  # Maximum acceptable ping duration in ms
MONITOR_SPEED_DL_THRESHOLD   = 70  # Minimum acceptable downlink internet connection speed in Mbps
MONITOR_SPEED_UL_THRESHOLD   = 20  # Minimum acceptable uplink internet connection speed in Mbps

# DNS resolver address to be tested
MONITOR_DNS = 192.168.2.1

# List of services to be checked by 'service-status'
MONITOR_SERVICE[0] = bt-daemon
MONITOR_SERVICE[1] = gpio-daemon
MONITOR_SERVICE[2] = inetbox2mqtt
MONITOR_SERVICE[3] = RpiTemperature
MONITOR_SERVICE[4] = node-red-venus

# List of cron jobs and intervals to be checked by 'cron-check'
# A warning is sent if the job has not been executed within the given interval
#                 Log prefix      Interval
MONITOR_CRON[0] = backup-config   1
MONITOR_CRON[1] = backup-files    1

# List of IP addresses to be checked via 'ping'
# and number of ping attempts
#MONITOR_PING_ATTEMPTS = 10
#MONITOR_PING[0]       = 192.168.1.1
#MONITOR_PING[1]       = 192.168.1.2
#MONITOR_PING[2]       = 192.168.1.3



#----------------------------
# BACKUP Config        
#----------------------------

# Source and destination directory for the configuration file backups
BACKUP_CONFIG_SOURCE[0]   = /data/home
BACKUP_CONFIG_EXCLUDE[0]  = id_rsa .cache             # Excluded files
BACKUP_CONFIG_SOURCE[1]   = /var/log/nastia-server
BACKUP_CONFIG_SOURCE[2]   = /data/nastia-server
BACKUP_CONFIG_EXCLUDE[2]  = .git __pycache__
BACKUP_CONFIG_SOURCE[3]   = /etc/hostname
BACKUP_CONFIG_SOURCE[4]   = /etc/hosts
BACKUP_CONFIG_SOURCE[5]   = /etc/cron.d/nastia-server
BACKUP_CONFIG_SOURCE[6]   = /etc/ssh/sshd_config
BACKUP_CONFIG_SOURCE[7]   = /data/inetbox2mqtt
BACKUP_CONFIG_EXCLUDE[7]  = .git __pycache__
BACKUP_CONFIG_SOURCE[8]   = /etc/bluetooth/ble.conf
BACKUP_CONFIG_SOURCE[9]   = /data/conf
BACKUP_CONFIG_SOURCE[10]  = /opt/victronenergy/service/
BACKUP_CONFIG_DESTINATION = rpi4:storage/ConfigBackup/Venus



#----------------------------
# BACKUP FILES
#----------------------------

BACKUP_FILES_MAX_DELETIONS  = 200

BACKUP_FILES_SOURCE[0]      = /
BACKUP_FILES_OPTIONS[0]     = -AX --delete-excluded
BACKUP_FILES_EXCLUDE[0]     = /dev/* /proc/* /sys/* /tmp/* /run/* /mnt/* /media/* /storage/* /var/cache/* /var/tmp/* /lost+found /var/volatile/* __pycache__
BACKUP_FILES_DESTINATION[0] = rpi4-root:/media/storage/SystemBackup/Venus



#----------------------------
# BACKUP SD over SSH
#----------------------------

BACKUP_SD_DEVICE      = /dev/mmcblk0
BACKUP_SD_DEST_SSH    = rpi4
BACKUP_SD_DEST_DIR    = /media/storage/SdBackup



#----------------------------
# BACKUP HDD        
#----------------------------

# Source and destination directories for incremental backups
#BACKUP_SOURCE[0]   = /media/storage
#BACKUP_DESTINATION = /media/backup/Backups
#BACKUP_EXCLUDE     = lost+found                 # Excluded files



#----------------------------
# REPAIR PERMISSIONS
#----------------------------

# List of permission configurations
# Recursively apply the permissions to a contant of a directory
# Format: <directory> <user> <group> [dir mode] [file mode]
#PERMISSION_SET[0] = /media/storage/www pi www-data g+rwx g+rw
#PERMISSION_SET[1] = /media/storage/mysql pi mysql g+rwx g+rw
#PERMISSION_SET[2] = /var/log/nastia-server pi adm



#----------------------------
# DYNAMIC DNS 
#----------------------------

# goip.de credentials
#DYNDNS_GOIP_USERNAME = username
#DYNDNS_GOIP_PASSWORD = password

# anydns.info credentials
#DYNDNS_ANYDNS_USERNAME = username
#DYNDNS_ANYDNS_PASSWORD = password

# IPv6 enabled (1 = yes, 0 = no)
#DYNDNS_IPV6_ENABLED = 0

# URLs that return the current IPv4 and IPv6 addresses
#DYNDNS_IPV4_URL = http://www.anydns.info/ip.php
#DYNDNS_IPV6_URL = http://www.anydns.info/ip.php

# Domain names and the respective protocols (ipv4|ipv6)
#                  Domain               Protocol
#DYNDNS_CONFIG[0] = mydomain.goip.de     ipv4
#DYNDNS_CONFIG[1] = mydomain.goip.de     ipv6
#DYNDNS_CONFIG[2] = mydomain.anydns.info ipv4
#DYNDNS_CONFIG[3] = mydomain.anydns.info ipv6



#----------------------------
# UPS CONTROL
#----------------------------

# Serial port device name
#UPS_DEVICE    = ttyUSB0

# Serial port baud rate
#UPS_BAUD_RATE = 19200 



#----------------------------
# FAN CONTROL
#----------------------------

# GPIO pin number for controlling the cooling fan
#FAN_GPIO_PIN = 14

# Target CPU temperature in 'C
#FAN_TEMPERATURE = 50

# Temperature sampling interval in seconds
#FAN_INTERVAL = 5



#----------------------------
# MEDIA STREAM
#----------------------------

# Root directory, all the subsequent paths are relative to this one
#MEDIA_ROOT_DIR = /media/storage

# Directory for photos downloaded from the Dropbox "Camera Uploads" folder
#MEDIA_DROPBOX_DIR = Dropbox


# Stream configurations
# Type: image|movie|audio
#                 Type   Source dir. (replace spaces with %)  Destination dir.       Backup  Sub-folders
#MEDIA_STREAM[0] = image  Dropbox/CameraUploads                Pictures               1       1
#MEDIA_STREAM[1] = movie  Dropbox/CameraUploads                Movies                 1       1


# Directories containing images to be checked
#MEDIA_CHKIMG_DIR[0] = Pictures

